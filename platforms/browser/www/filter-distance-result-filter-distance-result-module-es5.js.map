{"version":3,"sources":["webpack:///src/app/filter-distance-result/filter-distance-result.page.html","webpack:///src/app/filter-distance-result/filter-distance-result-routing.module.ts","webpack:///src/app/filter-distance-result/filter-distance-result.module.ts","webpack:///src/app/filter-distance-result/filter-distance-result.page.scss","webpack:///src/app/filter-distance-result/filter-distance-result.page.ts"],"names":["routes","path","component","FilterDistanceResultPageRoutingModule","imports","forChild","exports","FilterDistanceResultPageModule","declarations","FilterDistanceResultPage","_helper","_api","router","navCtrl","buttonIcon","shopList","imagePath","production","infoWindows","markers","userId","mapMarkers","showMarker","view","localStorage","getItem","fetchNearByResturents","getDistance","currentPosition","lat","console","log","getDistanceResult","then","res","dismissLoader","showMap","location","google","maps","LatLng","icon","url","scaledSize","Size","options","center","zoom","DisableDefaultUI","map","Map","mapRef","nativeElement","addMarkersToMap","marker","iconBase","position","lng","mapMarker","Marker","title","name","latitude","longitude","address","distance","image","id","setMap","addInfoWindowsToMap","infoWindowContent","infoWindow","InfoWindow","content","addListener","closeAllInfoWindows","push","window","close","storeId","watchList","presentLoading","favouriteShop","deleteFrmfavouriteShop","liquorshopid","item","setItem","JSON","stringify","navigateForward","find","el","read","selector","template"],"mappings":"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","file":"filter-distance-result-filter-distance-result-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n  \\t<ion-buttons slot=\\\"start\\\">\\n  \\t\\t<ion-back-button></ion-back-button>\\n  \\t</ion-buttons>\\n    <ion-title>Nearest Shop</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"changeView()\\\"><ion-icon slot=\\\"icon-only\\\" [name]=\\\"buttonIcon\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"map_main_div\\\">\\n    <div #map id=\\\"map\\\" *ngIf=\\\"view=='map'\\\"></div>\\n    <div class=\\\"address_sec\\\" *ngIf=showMarker>\\n      <span (click)=\\\"closeWindow()\\\">\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n      </span>\\n     \\n      <ion-item *ngIf=\\\"mapMarkers\\\"> \\n        <ion-thumbnail slot=\\\"start\\\">\\n          <ion-img src={{mapMarkers.image}}></ion-img>\\n        </ion-thumbnail>\\n        <ion-label (click)=\\\"gotoDetials(mapMarkers.id)\\\">\\n        <h4> {{mapMarkers.title}}</h4>\\n        <p>{{mapMarkers.address}}</p>\\n        <small>{{ mapMarkers.distance }}</small>\\n        </ion-label>\\n      </ion-item>\\n    </div>\\n  </div>\\n\\t<div class=\\\"list-area\\\" *ngIf=\\\"view=='list'\\\">\\n\\t\\t<ion-list>\\n      <ion-item *ngFor = \\\"let shop of shopList\\\">\\n        <ion-thumbnail slot=\\\"start\\\">\\n          <ion-img src=\\\"{{shop.image}}\\\"></ion-img>\\n        </ion-thumbnail>\\n        <ion-label>\\n          <h4 class=\\\"shopTitle\\\"><strong (click)=\\\"gotoshopproduct(shop.id,shop)\\\">{{shop.name}}</strong>\\n            <span (click)=\\\"save(shop.id,shop.is_in_watchlist)\\\">\\n              <ion-icon name=\\\"bookmark-outline\\\" *ngIf=\\\"shop.is_in_watchlist==0\\\"></ion-icon>\\n              <ion-icon name=\\\"bookmark\\\" class=\\\"active\\\" *ngIf=\\\"shop.is_in_watchlist==1\\\"></ion-icon>\\n            </span>\\n          </h4>\\n          <p (click)=\\\"gotoshopproduct(shop.id,shop)\\\">{{shop.address}}</p>\\n          <div class=\\\"distance_sec\\\">\\n            <p >\\n              <small><ion-icon name=\\\"compass-outline\\\"></ion-icon>\\n                {{shop.distance}}</small>\\n              <small><ion-icon name=\\\"time-outline\\\"></ion-icon> {{shop.time}}min</small>\\n            </p>\\n            <!-- <span class=\\\"distance_btn\\\" (click)=\\\"showDistance()\\\">\\n              <ion-icon name=\\\"navigate-circle-outline\\\"></ion-icon>Distance\\n            </span>  -->\\n            <a href=\\\"https://www.google.com/maps/dir/?api=1&travelmode=driving&layer=traffic&destination={{shop.lat}},{{shop.lng}}\\\" class=\\\"distance_btn\\\">\\n              <ion-icon name=\\\"navigate-circle-outline\\\"></ion-icon>Distance\\n            </a>\\n          </div>\\n                \\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n\\t</div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FilterDistanceResultPage } from './filter-distance-result.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FilterDistanceResultPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FilterDistanceResultPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FilterDistanceResultPageRoutingModule } from './filter-distance-result-routing.module';\n\nimport { FilterDistanceResultPage } from './filter-distance-result.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FilterDistanceResultPageRoutingModule\n  ],\n  declarations: [FilterDistanceResultPage]\n})\nexport class FilterDistanceResultPageModule {}\n","export default \"#map {\\n  height: calc(100vh - 56px);\\n  width: 100%;\\n}\\n\\nion-thumbnail {\\n  width: 90px;\\n  height: 70px;\\n  margin: 0 10px 0 0;\\n}\\n\\nion-thumbnail ion-img {\\n  border-radius: 10px;\\n}\\n\\nion-label {\\n  white-space: normal;\\n}\\n\\nion-label p {\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  max-height: 80px;\\n}\\n\\nion-list ion-thumbnail {\\n  width: 90px;\\n  height: 70px;\\n}\\n\\nion-list ion-thumbnail ion-img {\\n  border-radius: 10px;\\n}\\n\\nion-list ion-label {\\n  white-space: normal;\\n}\\n\\nion-list ion-label p {\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  max-height: 80px;\\n}\\n\\n.distance_sec {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\n.distance_sec small {\\n  margin-right: 10px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  line-height: 1;\\n}\\n\\n.distance_sec small ion-icon {\\n  margin-right: 3px;\\n  vertical-align: text-top;\\n}\\n\\n.distance_sec .distance_btn {\\n  display: inline-block;\\n  padding: 0 10px;\\n  padding-top: 4px;\\n  vertical-align: middle;\\n  margin: 0 5px;\\n  background-color: #dcc88d;\\n  color: #000;\\n  border-radius: 20px;\\n  text-decoration: none;\\n  font-size: 10px;\\n  line-height: 20px;\\n  font-weight: 600;\\n  text-transform: capitalize;\\n}\\n\\n.distance_sec .distance_btn ion-icon {\\n  font-size: 13px;\\n  vertical-align: sub;\\n  margin-right: 3px;\\n}\\n\\n.shopTitle {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.shopTitle strong {\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 1;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  width: 200px;\\n}\\n\\n.shopTitle span {\\n  color: #49432f;\\n}\\n\\n.shopTitle span .active {\\n  color: #dcc88d;\\n}\\n\\n.map_main_div {\\n  position: relative;\\n}\\n\\n.map_main_div .address_sec {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  background: #ffffff;\\n  padding: 20px;\\n  height: 150px;\\n  z-index: 1;\\n  border-radius: 8px 8px 0 0;\\n  box-shadow: 0 2px 7px 1px rgba(0, 0, 0, 0.3);\\n}\\n\\n.map_main_div .address_sec span {\\n  text-align: right;\\n  color: #494949;\\n  padding: 10px;\\n  font-size: 18px;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 2;\\n}\\n\\n.item-inner {\\n  border: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmlsdGVyLWRpc3RhbmNlLXJlc3VsdC9maWx0ZXItZGlzdGFuY2UtcmVzdWx0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLDBCQUFBO0VBQ0EsV0FBQTtBQUNEOztBQUNBO0VBQ0MsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQUVEOztBQUFDO0VBQ0MsbUJBQUE7QUFFRjs7QUFDQTtFQUNDLG1CQUFBO0FBRUQ7O0FBQUM7RUFDQyx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFFRjs7QUFFQztFQUNDLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBQ0U7RUFDQyxtQkFBQTtBQUNIOztBQUVDO0VBQ0MsbUJBQUE7QUFBRjs7QUFFRTtFQUNDLHVCQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUNBLDRCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQUFIOztBQUlBO0VBQ0MsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7QUFERDs7QUFFQztFQUNDLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQUFGOztBQUNFO0VBQ0MsaUJBQUE7RUFDRyx3QkFBQTtBQUNOOztBQUVDO0VBQ0MscUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSwwQkFBQTtBQUFGOztBQUNFO0VBQ0MsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUFDSDs7QUFHQTtFQUNDLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FBQUQ7O0FBQ0M7RUFDQyx1QkFBQTtFQUNBLG9CQUFBO0VBQ0EscUJBQUE7RUFDQSw0QkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUFFO0VBQ0EsY0FBQTtBQUVGOztBQURFO0VBQ0MsY0FBQTtBQUdIOztBQUNBO0VBQ0Msa0JBQUE7QUFFRDs7QUFEQztFQUNDLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLFVBQUE7RUFDQSwwQkFBQTtFQUNBLDRDQUFBO0FBR0Y7O0FBRkU7RUFDQyxpQkFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLE1BQUE7RUFDQSxVQUFBO0FBSUg7O0FBQ0E7RUFDQyxZQUFBO0FBRUQiLCJmaWxlIjoic3JjL2FwcC9maWx0ZXItZGlzdGFuY2UtcmVzdWx0L2ZpbHRlci1kaXN0YW5jZS1yZXN1bHQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcCB7XHJcblx0aGVpZ2h0OiBjYWxjKDEwMHZoIC0gNTZweCk7XHJcblx0d2lkdGg6IDEwMCU7XHJcbn1cclxuaW9uLXRodW1ibmFpbCB7XHJcblx0d2lkdGg6IDkwcHg7XHJcblx0aGVpZ2h0OiA3MHB4O1xyXG5cdG1hcmdpbjogMCAxMHB4IDAgMDtcclxuXHJcblx0aW9uLWltZyB7XHJcblx0XHRib3JkZXItcmFkaXVzOiAxMHB4O1xyXG5cdH1cclxufVxyXG5pb24tbGFiZWwge1xyXG5cdHdoaXRlLXNwYWNlOiBub3JtYWw7XHJcblxyXG5cdHAge1xyXG5cdFx0dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcblx0XHRkaXNwbGF5OiAtd2Via2l0LWJveDtcclxuXHRcdC13ZWJraXQtbGluZS1jbGFtcDogMjtcclxuXHRcdC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XHJcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xyXG5cdFx0bWF4LWhlaWdodDogODBweDtcclxuXHR9XHJcbn1cclxuaW9uLWxpc3Qge1xyXG5cdGlvbi10aHVtYm5haWwge1xyXG5cdFx0d2lkdGg6IDkwcHg7XHJcblx0XHRoZWlnaHQ6IDcwcHg7XHJcblxyXG5cdFx0aW9uLWltZyB7XHJcblx0XHRcdGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlvbi1sYWJlbCB7XHJcblx0XHR3aGl0ZS1zcGFjZTogbm9ybWFsO1xyXG5cclxuXHRcdHAge1xyXG5cdFx0XHR0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuXHRcdFx0ZGlzcGxheTogLXdlYmtpdC1ib3g7XHJcblx0XHRcdC13ZWJraXQtbGluZS1jbGFtcDogMjtcclxuXHRcdFx0LXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcclxuXHRcdFx0b3ZlcmZsb3c6IGhpZGRlbjtcclxuXHRcdFx0bWF4LWhlaWdodDogODBweDtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuLmRpc3RhbmNlX3NlY3tcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG5cdHNtYWxse1xyXG5cdFx0bWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG5cdFx0Zm9udC1zaXplOiAxMnB4O1xyXG5cdFx0Zm9udC13ZWlnaHQ6IDYwMDtcclxuXHRcdGxpbmUtaGVpZ2h0OiAxO1xyXG5cdFx0aW9uLWljb257XHJcblx0XHRcdG1hcmdpbi1yaWdodDogM3B4O1xyXG4gICAgXHRcdHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDtcclxuXHRcdH1cclxuXHR9XHJcblx0LmRpc3RhbmNlX2J0bntcclxuXHRcdGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuXHRcdHBhZGRpbmc6IDAgMTBweDtcclxuXHRcdHBhZGRpbmctdG9wOiA0cHg7XHJcblx0XHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG5cdFx0bWFyZ2luOiAwIDVweDtcclxuXHRcdGJhY2tncm91bmQtY29sb3I6ICNkY2M4OGQ7XHJcblx0XHRjb2xvcjogIzAwMDtcclxuXHRcdGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcblx0XHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcblx0XHRmb250LXNpemU6IDEwcHg7XHJcblx0XHRsaW5lLWhlaWdodDogMjBweDtcclxuXHRcdGZvbnQtd2VpZ2h0OiA2MDA7XHJcblx0XHR0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuXHRcdGlvbi1pY29ue1xyXG5cdFx0XHRmb250LXNpemU6IDEzcHg7XHJcblx0XHRcdHZlcnRpY2FsLWFsaWduOiBzdWI7XHJcblx0XHRcdG1hcmdpbi1yaWdodDogM3B4O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4uc2hvcFRpdGxle1xyXG5cdGRpc3BsYXk6IGZsZXg7XHJcblx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0c3Ryb25ne1xyXG5cdFx0dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcblx0XHRkaXNwbGF5OiAtd2Via2l0LWJveDtcclxuXHRcdC13ZWJraXQtbGluZS1jbGFtcDogMTtcclxuXHRcdC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XHJcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xyXG5cdFx0d2lkdGg6IDIwMHB4O1xyXG5cdH1zcGFue1xyXG5cdFx0Y29sb3I6ICM0OTQzMmY7XHJcblx0XHQuYWN0aXZle1xyXG5cdFx0XHRjb2xvcjogI2RjYzg4ZDtcclxuXHRcdH1cdFxyXG5cdH1cclxufVxyXG4ubWFwX21haW5fZGl2e1xyXG5cdHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHQuYWRkcmVzc19zZWN7XHJcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHRib3R0b206IDA7XHJcblx0XHRsZWZ0OiAwO1xyXG5cdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG5cdFx0cGFkZGluZzogMjBweDtcclxuXHRcdGhlaWdodDogMTUwcHg7XHJcblx0XHR6LWluZGV4OiAxO1xyXG5cdFx0Ym9yZGVyLXJhZGl1czogOHB4IDhweCAgMCAwO1xyXG5cdFx0Ym94LXNoYWRvdzogMCAycHggN3B4IDFweCByZ2IoMCAwIDAgLyAzMCUpO1xyXG5cdFx0c3BhbntcclxuXHRcdFx0dGV4dC1hbGlnbjogcmlnaHQ7XHJcblx0XHRcdGNvbG9yOiAjNDk0OTQ5O1xyXG5cdFx0XHRwYWRkaW5nOiAxMHB4O1xyXG5cdFx0XHRmb250LXNpemU6IDE4cHg7XHJcblx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHRcdFx0cmlnaHQ6IDA7XHJcblx0XHRcdHRvcDogMDtcclxuXHRcdFx0ei1pbmRleDogMjtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcbn1cclxuLml0ZW0taW5uZXJ7XHJcblx0Ym9yZGVyOiBub25lO1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { ViewChild, ElementRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { environment } from 'src/environments/environment';\n\nimport { CommonProvider } from '../services/common.service';\nimport { HelperProvider } from '../services/helper.service';\n\ndeclare var google: any;\n\n@Component({\n  selector: 'app-filter-distance-result',\n  templateUrl: './filter-distance-result.page.html',\n  styleUrls: ['./filter-distance-result.page.scss'],\n})\nexport class FilterDistanceResultPage implements OnInit {\n  view: any;\n\tbuttonIcon: string = \"list\";\n  shopList : any = [];\n  imagePath = environment.production;\n  map: any;\n  infoWindows: any = [];\n  markers: any = [];\n  userId : any = '';\n  mapMarkers : any = {};\n  showMarker = false;\n\n\tconstructor( private _helper : HelperProvider, private _api : CommonProvider, private router : Router, private navCtrl : NavController) {\n\t\tthis.view = 'map';\n  }\n\n  ngOnInit() {\n    \n    this.userId=localStorage.getItem(\"user_id\");\n    this.fetchNearByResturents();\n    \n  }\n\n  @ViewChild('map', {read:ElementRef, static: false}) mapRef: ElementRef;\n  \n\n\n  /**\n   * this method is calling for getting shop list filter by distance\n  */\n\n  fetchNearByResturents() {\n    // get distance choose by user\n    let getDistance = localStorage.getItem('setDistance');\n      \n    // get latitude and longitude of user\n    // let currentPosition = JSON.parse(localStorage.getItem('currentAddress'));\n    let currentPosition = {\n      lat : 43.6532,\n      long : -79.3832\n    };\n    console.log('currentPosition',currentPosition);\n    if (currentPosition==null) {\n      \n    } else {\n      this._api.getDistanceResult(this.userId, currentPosition.lat, currentPosition.long,getDistance).then((res) => {\n        console.log(res);\n        if (res[\"status\"]=='1') {\n          this._helper.dismissLoader();\n          this.shopList = res[\"shops\"];\n          this.markers = this.shopList;\n          console.log('shopList', this.shopList);\n          \n          this.showMap();\n          \n        } else {\n          \n        }\n        \n      })\n    }\n  }\n \n  \n  /**\n   * This method is calling for change view of the page(List / Map)\n  */\n  changeView(){\n    if(this.view == 'map'){\n      this.view = 'list';\n      this.buttonIcon = \"map-outline\";\n    }else{\n      this.view = 'map';\n      this.buttonIcon = \"list\";\n      this.fetchNearByResturents();\n    }\n  }\n   \n\n   \n  /**\n   * This method is calling for handling the map view in page\n  */\n  showMap() {\n    // const location = new google.maps.LatLng(-37.3,144.3);\n    let currentPosition = {\n      lat : 43.6532,\n      long : -79.3832\n    };\n\t\tconsole.log(currentPosition);\t\t\n\t\tconst location = new google.maps.LatLng(currentPosition.lat, currentPosition.long);\n\t\tconst icon = {\n\t\t\turl: '../assets/icon/map_icon.png', // image url\n\t\t\tscaledSize: new google.maps.Size(30, 30), // scaled size\n\t\t};\n\t\t\n\t\tconst options = {\n\t\t\tcenter: location,\n\t\t\tzoom: 18,\n\t\t\tDisableDefaultUI: true,\n\t\t\ticon: icon\n\t\t}\n\t\tthis.map = new google.maps.Map(this.mapRef.nativeElement, options);\n\t\tthis.addMarkersToMap(this.markers)\n  }\n\n  /**\n   * This method is calling for add markeers in map view \n  */\n\n  addMarkersToMap(markers) {\n    for(let marker of markers ) {\n      let iconBase = '../assets/icon/map_icon.png';\n      let position = new google.maps.LatLng(marker.lat, marker.lng);\n      \n      let mapMarker = new google.maps.Marker({\n        position: position,\n        title: marker.name,\n        latitude: marker.lat,\n        longitude: marker.lng,\n        address: marker.address,\n        distance: marker.distance,\n        image: marker.image,\n        icon: iconBase,\n        id: marker.id\n      });\n    \n      mapMarker.setMap(this.map);\n      this.addInfoWindowsToMap(mapMarker);\n    }\n  }\n\n  /**\n   * This method is calling for adding infomation of marker in map view \n  */\n  \n  addInfoWindowsToMap(marker) {\n    let infoWindowContent = '<ion-item>' +\n      '<ion-thumbnail slot=\"start\">' +\n      '<ion-img src=\"'+ marker.image +'\"></ion-img>' +\n      '</ion-thumbnail>' +\n      '<ion-label >' +\n      '<h4 onClick=\"gotoshopproduct(marker.id, marker)\">'+ marker.title +'</h4>' +\n      '<p>'+ marker.address +'</p>' +\n      '<small>'+ marker.distance +'</small>' +\n      '</ion-label>' +\n      '</ion-item>';\n\n      \n    \n    let infoWindow = new google.maps.InfoWindow({\n      content: infoWindowContent\n    });\n\n    marker.addListener('click', () => {\n      this.closeAllInfoWindows();\n      console.log('click');\n      this.showMarker = true;\n      this.mapMarkers = marker;\n      //infoWindow.open(this.map, marker);\n    });\n    \n    this.infoWindows.push(infoWindow);\n  }\n   \n   /**\n   * This method is calling for closing infomation of marker in map view \n  */\n  closeAllInfoWindows() {    \n    for(let window of this.infoWindows) {\n      window.close();\n    }\n  }\n  /**\n   * This method is calling for save shop in watchlist or unsave shop from watchlist\n   * @param shop id, watchlist(0,1)\n  */\n  save(storeId:any, watchList){\n    if (watchList==0) {\n      this._helper.presentLoading();\n      /**\n      * call api to save store\n      */\n      this._api.favouriteShop(this.userId,storeId).then(res => {\n        if (res[\"status\"]=='1') {\n          this._helper.dismissLoader();\n          this.fetchNearByResturents();        \n        } else {\n          \n        }\n        \n      })\n    }else{\n      /**\n      * call api to unsave store\n      */\n      this._api.deleteFrmfavouriteShop(this.userId,storeId).then(res => {\n        if (res[\"status\"]=='1') {\n          this.fetchNearByResturents();        \n        } else {\n          \n        }\n        \n      })\n    }\n  }\n\n  /**\n   * This method is calling to go to outlet menu of shop \n  */\n  gotoshopproduct(liquorshopid, item){\n    localStorage.setItem(\"liquorshopid\", liquorshopid);\n    localStorage.setItem('shopDetails', JSON.stringify(item));\n    this.navCtrl.navigateForward('/outlet-ordering-menu');\n  }\n  /**\n   * This method is calling for show distance from user to shop in map view \n  */\n  closeWindow(){\n    this.showMarker=false;\n  }\n\n  gotoDetials(liquorshopid){\n    let item = this.shopList.find(el=>el.id == liquorshopid )\n    \n\n    localStorage.setItem(\"liquorshopid\", liquorshopid);\n    localStorage.setItem('shopDetails', JSON.stringify(item));\n    this.navCtrl.navigateForward('/outlet-ordering-menu');\n  }\n}\n   "]}